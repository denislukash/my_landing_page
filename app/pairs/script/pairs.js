!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){var t=this;t._count=e,t.startCountdown=(()=>{return t._count++}),t.reset=(e=>{t._count=e})}function i(e){var t=document.createElement("table");t.setAttribute("id","game-field");for(let n=0;n<e.height;n++){let n=document.createElement("tr");t.appendChild(n);for(let r=0;r<e.width;r++){let e=document.createElement("td"),t=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");r.classList.add(E),r.setAttribute("hidden",""),i.classList.add(I),e.appendChild(t),e.appendChild(i),e.appendChild(r),n.appendChild(e)}}return t}function c(e){for(let t=0;t<_.height;t++){let n=w.rows[t];for(let r=0;r<_.width;r++){let t=n.cells[r].firstChild;e(t)}}}function o(e,t){var n=e.slice(),r=t.width*t.height/2;switch(!0){case r<=8:return n.length=r,n.concat(n);case r>=8&&r<=16:var i=n.concat(n);return i.length=i.length-(i.length-r),i.concat(i);case r>=16&&r<=32:var c=n.concat(n).concat(n).concat(n);return c.length=c.length-(c.length-r),c.concat(c)}}function u(e,t){return parseInt(Math.random()*(t-e)+e)}function a(e,t){return u(-2,2)}function l(){c(e=>{e.classList.add(x.shift()),e.setAttribute("hidden","")})}function s(){q.setAttribute("hidden",""),document.querySelector(".play_button_container > h1").innerText="PLAY AGAIN",L=setInterval(()=>{A.innerText=g.startCountdown()},1e3),O=setInterval(()=>{b.innerText=v.startReversCountdown(v)},1e3),w.addEventListener("click",f),k.removeEventListener("click",s),k.addEventListener("click",d)}function d(){g.reset(0),v.reset(1e3),w.remove(),x=o(S,_).sort(a),w=i(_),document.querySelector(".game_container").appendChild(w),l(),s()}function f(e){var t=e.target,n=e.target.previousSibling;t.hasAttribute("class")&&!t.classList.contains(E)&&(P.isArrayFull(F)&&(h(),F.splice(0,F.length)),G.openImage(n),c(e=>{P.is2cellOpen()&&P.cellIsOpen(e)&&F.unshift(e.getAttribute("class"))}),P.isArrayFull(F)&&P.isImageSame(F)&&(m(),P.isGameEnd()&&p()))}function h(){c(e=>{P.cellIsOpen(e)&&G.closeImage(e)})}function m(){c(e=>{P.cellIsOpen(e)&&G.deleteImage(e)})}function p(){clearInterval(L),clearInterval(O),q.removeAttribute("hidden"),w.removeEventListener("click",f)}var v=new r(1e3),g=new r(0);v.__proto__.startReversCountdown=(e=>{return e._count--});var b=document.querySelector("#score"),A=document.querySelector("#time");const I="close",E="delete";var _={width:4,height:4},w=i(_);document.querySelector(".game_container").appendChild(w);const y=9;var S=[];for(let C=1;C<y;C++){let e="image-"+C;S.push(e)}var x=o(S,_).sort(a);l();var L,O,q=document.querySelector(".play_button_container"),k=document.querySelector("#start_button");k.addEventListener("click",s);var F=[],G={openImage:e=>{e.removeAttribute("hidden"),e.setAttribute("open",""),e.nextElementSibling.setAttribute("hidden","")},closeImage:e=>{e.setAttribute("hidden",""),e.removeAttribute("open"),e.nextElementSibling.removeAttribute("hidden")},deleteImage:e=>{e.setAttribute("hidden",""),e.setAttribute("delete",""),e.removeAttribute("open"),e.nextElementSibling.nextElementSibling.removeAttribute("hidden")}},P={cellIsOpen:e=>{return e.hasAttribute("open")},isImageSame:e=>{return e[0]===e[1]},isArrayFull:e=>{return 2===e.length},is2cellOpen:()=>{var e=[];return c(t=>{P.cellIsOpen(t)&&e.unshift(t.getAttribute("class"))}),2===e.length},isGameEnd:()=>{for(let e=0;e<_.height;e++){var t=w.rows[e];for(let n=0;n<_.width;n++){let e=t.cells[n].firstChild;if(!e.hasAttribute("delete"))return!1}}return!0}}}]);