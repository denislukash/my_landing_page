var lines=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./build/",t(t.s=10)}([function(e,t){},function(e,t){},function(e,t){},,,,,,,,function(e,t,n){"use strict";function o(e,t,n){let o=null,r=[];this.push=function(c){t(o,c)||(r=[]),r.push(c),o=c;let i=r.length>=e;return i&&n(r),i}}function r(e,t){for(var n=[],o=0;o<e;o++){n[o]=[];for(var r=0;r<t;r++)n[o][r]={}}return n}function c(e){var t=document.createElement("table");return t.setAttribute("id","game-matrix"),e.forEach((e,n)=>{let o=document.createElement("tr");t.appendChild(o),e.forEach((e,t)=>{let r=document.createElement("td"),c=document.createElement("div");r.appendChild(c),o.appendChild(r),c.classList.add("ball"),O.setY(n)(c),O.setX(t)(c)})}),t}function i(){var e=0;return function(t){return e+=t}}function u(){X=i(),T=i(),j.innerText=0,Y.innerText=0}function l(e){let t=[{from:4,to:5,modifier:2},{from:6,to:7,modifier:3},{from:8,to:9,modifier:4},{from:10,to:11,modifier:5}];for(let n=0;n<t.length;n++)if(e==t[n].from||e==t[n].to)return e*t[n].modifier;return 0}function a(){document.getElementById("next_ball_area").classList.toggle("hidden")}function f(){A=r(B,C),q.remove(),S.appendChild(c(A)),q=document.getElementById("game-matrix")}function d(){z.classList.remove(D),z.classList.remove(N),z.classList.remove(M)}function s(){J=_(R),x(J),K=_(R),Z.set_delete(K)}function m(e){""!==e.field&&(d(),z.classList.add(e.field),e.field===D&&F.f7x7(),e.field===N&&F.f9x9(),e.field===M&&F.f11x11(),Z.set_delete(K),s())}function g(e,t){return(e instanceof y?e.color:NaN)===(t instanceof y?t.color:NaN)}function p(e){A.forEach(function(t,n){let r=new o(e,g,v);t.forEach(function(e,t){r.push(A[n][t])})})}function h(e){A.forEach(function(t,n){let r=new o(e,g,v);t.forEach(function(e,t){r.push(A[t][n])})})}function E(){var e=!1,t=0;return A.forEach((n,o)=>{n.forEach((n,r)=>{A[o][r].hasOwnProperty("delete")&&(I(o,r),A[o][r]={},e=!0,t++)})}),j.innerText=X(l(t)),e}function v(e){e.forEach(e=>{e.delete="ok"})}function y(e){this.color=e,this.status=H}function k(e,t){b(e,t).classList.add(A[e][t].color)}function b(e,t){return q.rows[e].cells[t].firstChild}function _(e){for(var t=[],n=0;n<e;n++)t[n]=new y(V.getColor());return t}function x(e){for(var t=0;t<e.length;t++){var n=V.getInteger(0,A.length),o=V.getInteger(0,A.length);U.cellIsEmpty(n,o)?(A[n][o]=e[t],k(n,o)):--t}p(Q),h(Q),setTimeout(E,500)}function I(e,t){b(e,t).classList.remove("animation"),b(e,t).classList.remove(A[e][t].color)}Object.defineProperty(t,"__esModule",{value:!0});var L=n(0),P=(n.n(L),n(1)),w=(n.n(P),n(2)),B=(n.n(w),9),C=9;let O={getY:e=>{return e.getAttribute("data-y")},setY:e=>{return t=>{t.dataset.y=e}},setX:e=>{return t=>{t.dataset.x=e}},getX:e=>{return e.getAttribute("data-x")}};Object.prototype.toString=(()=>{return""});let A=r(B,C),S=document.getElementById("game-field");S.appendChild(c(A)),document.getElementById("game-area").classList.add("field9x9");let q=document.getElementById("game-matrix");var T=i(),X=i(),Y=document.getElementById("step"),j=document.getElementById("score");const D="field7x7",N="field9x9",M="field11x11";document.getElementById("checkbox1").addEventListener("click",a);let W={gameParamWindow:()=>{return document.getElementById("game_parameters")},open:()=>{W.gameParamWindow().style.display="table"},close:()=>{W.gameParamWindow().style.display="none"}},F={f7x7:()=>{B=7,C=7,f(),Q=3,R=2},f9x9:()=>{B=9,C=9,f(),Q=4,R=3},f11x11:()=>{B=11,C=11,f(),Q=5,R=4}},z=document.getElementById("game-area");document.querySelector(".button_new").addEventListener("click",e=>{f(),Z.set_delete(K),s()}),document.querySelector(".button_sett").addEventListener("click",W.open),document.querySelector(".confirm_button").addEventListener("click",e=>{var t=document.forms.settings_form,n={};n.field=t.elements.field_size.value,e.preventDefault(),W.close(),m(n),u()}),document.querySelector(".cancel_button").addEventListener("click",e=>{W.close(),e.preventDefault()});let G="picked",H="unpicked";y.prototype.pick_ball=function(e){e.classList.add("animation"),this.status=G},y.prototype.unpick_ball=function(e){e.classList.remove("animation"),this.status=H};let J,K,Q=4,R=3;var U={cellIsEmpty:(e,t)=>{return!A[e][t].hasOwnProperty("color")},ballIsPicked:(e,t)=>{return A[e][t].status===G},thereIsPickedBallsOnField:()=>{let e=!1;return A.forEach((t,n)=>{A[n].forEach((t,o)=>{U.ballIsPicked(n,o)&&(e=!0)})}),e}},V={getColor:()=>{var e=["red","yellow","green","dark_blue","pink","blue","dark"];return e[V.getInteger(0,e.length)]},getInteger:(e,t)=>{return parseInt(Math.random()*(t-e)+e)}},Z={get_element_collection:()=>{return document.querySelectorAll(".next_ball")},set_delete:e=>{e.forEach((t,n)=>{Z.get_element_collection()[n].classList.toggle(e[n].color)})}};s();var $={pick:(e,t,n)=>{A[t][n].pick_ball(e)},unpickAllPicked:function(){A.forEach((e,t)=>{e.forEach((e,n)=>{U.ballIsPicked(t,n)&&e.unpick_ball(b(t,n))})})},findAndDeletePicked:function(){let e;return A.forEach((t,n)=>{t.forEach((t,o)=>{U.ballIsPicked(n,o)&&(e=t.color,I(n,o),A[n][o]={})})}),e}},ee=document.getElementById("game-field");ee.addEventListener("click",function(e){var t=e.target,n=O.getX(t),o=O.getY(t);U.cellIsEmpty(o,n)||U.ballIsPicked(o,n)||($.unpickAllPicked(),$.pick(t,o,n))}),ee.addEventListener("click",function(e){var t=e.target,n=O.getX(t),o=O.getY(t);if(U.cellIsEmpty(o,n)&&U.thereIsPickedBallsOnField()){var r=$.findAndDeletePicked();A[o][n]=new y(r),k(o,n),Y.textContent=T(1),p(Q),h(Q),setTimeout(function(){E()||(x(K),Z.set_delete(K),K=_(R),Z.set_delete(K))},500)}})}]);